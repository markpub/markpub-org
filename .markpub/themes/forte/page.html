{% set page_title = title ~ ' - ' ~ wiki_title if title != 'README' else wiki_title %}{% include '_header.html' %}
<body class="font-roboto text-gray-800 bg-gray-50 leading-relaxed">
  <!-- Header -->
  {% include '_body-header.html' %}
  <!-- Main Container -->
   <!-- Main Content -->
    <div class="container hero">
      {% if edit_url %}
      <div class="flex justify-end mb-4 pt-4">
        <a target="_blank" href="{{edit_url}}" 
           class="inline-block px-3 py-1 bg-blue-100 border border-blue-200 text-gray-700 text-sm font-trebuchet rounded-lg hover:bg-blue-200 transition-colors no-underline">
          Edit on {{git_forge}}
        </a>
      </div>
      {% endif %}
    </div>
    
    <main class="container">
      <div class="prose prose-gray max-w-none">
        {{ markdown_body }}
      </div>
      
      {% if backlinks %}
      <hr class="my-6 border-gray-300">
      <div>
        <h4 class="text-lg font-semibold font-trebuchet text-gray-700 mb-3">Pages that link to this page</h4>
        <ul class="list-disc pl-5 space-y-1">
          {% for link in backlinks %}
          <li><a href="{{websiteroot}}{{link[0]}}" class="text-blue-600 hover:text-blue-800 transition-colors">{{link[1]}}</a></li>
          {% endfor %}
        </ul>
      </div>
      {% endif %}
    </main>
  <script src="{{websiteroot}}/markpub_static/js/script.js"></script>
  {% if bluesky_comments_post %}
  <div id="bluesky-comments"></div>
  <script type="importmap">
    {
	"imports": {
	    "react": "https://esm.sh/react@18",
	    "react-dom/client": "https://esm.sh/react-dom@18"
	}
    }
  </script>
  <script type="module">
    import { createElement } from 'react'
    import { createRoot } from 'react-dom/client'
    import { BlueskyComments } from 'https://unpkg.com/bluesky-comments@0.12.0/dist/bluesky-comments.es.js'

    const uri = '{{bluesky_comments_post}}'
    const container = document.getElementById('bluesky-comments')
    const root = createRoot(container)
    root.render(
	createElement(BlueskyComments, {
	    "uri": uri,
	})
    )
  </script>
  {% endif %}
  <footer>
    <div class="foot">
      {% include '_footer.html' %}
    </div>
  </footer>
  </body>
</html>
